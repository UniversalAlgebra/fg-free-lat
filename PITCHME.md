## Kernels of epimorphisms of 
## finitely generated free lattices
 
### William DeMeo$^{†}\;$ Peter Mayr$^{†}\quad$ Nik Ruskuc$^{‡}$

† University of Colorado $\qquad\qquad\qquad$   ‡ University of St Andrews



<img src="assets/img/DeMeoRuskucMayr.jpg" alt="DeMeo-Ruskuc-Mayr" style="width: 600px"/>

<!-- View the slides at: https://gitpitch.com/universalalgebra/fg-free-lat/master -->
<!-- ;float: right"/> -->


---

Let $X$ be a finite set and $\mathbf F := \mathbf F(X)$ the free lattice generated by $X$.

**Conjecture.**
If $\mathbf L = \langle L, \wedge, \vee\rangle$ is finite and $h\colon \mathbf{F} \twoheadrightarrow \mathbf{L}$ is a lattice epimorphism, then 

*$h$ is bounded if and only if $\ker h$ is finitely generated.*

---

#### Proof of easy direction

($\Rightarrow$) Assume $h$ is bounded.  

@ul
- For each $y\in L$, let $$\alpha y= \bigvee h^{-1}\{y\} \quad\text{ and } \quad \beta y = \bigwedge h^{-1}\{y\}$$ be the greatest and least elements of $h^{-1}\{y\}$.
- Observe,  $\quad h \alpha h = h \quad$ and $\quad h \beta h = h$.
- In fact, $\alpha$ and $\beta$ are left/right adjoints of $h$. $$h x \leqslant y \quad \Longleftrightarrow \quad x \leqslant \alpha y$$ $$y \leqslant h x \quad \Longleftrightarrow \quad \beta y \leqslant x.$$
@ulend

Note: for finite lattices, $h$ bounded simply means the preimage of each $y\in L$ under $h$ is bounded.  

---

For $y \in L$, define

$\quad X_y := X\cap h^{-1}\{y\}$

Let $K$ be the following (finite) set of pairs in $\mathbf F \times \mathbf F$:

$\bigcup_{y \in L}\\{\pmatrix{x\\\ \alpha y},  \pmatrix{\alpha y\\\ x}, \pmatrix{x\\\ \beta y}, \pmatrix{\beta y\\\ x},  \pmatrix{\alpha y\\\ \beta y},  \pmatrix{\beta y\\\ \alpha y} \,: \,x \in X_y\\}.$

**Claim.** $K$ generates $\ker h$.

---

@ul

+ We show, by induction on term complexity:<p>
$\quad (\forall y \in L)\; (\forall r \in h^{-1}\{y\}) 
\quad \bigl\\{\pmatrix{r\\\ \alpha y}, \, \pmatrix{r\\\ \beta y}\bigr\\} \subseteq \langle K \rangle$</p>
 <!-- \leqslant \mathbf F \times \mathbf F$. -->

+ **Case 0.** If $r \in X$, then $\pmatrix{r\\\ \alpha y}$ and $\pmatrix{r\\\ \beta y}$ belong to $K$ (nothing to prove)

@ulend

---
**Case 1.** Suppose $r = s \vee t$, where

$\text{(Ind hyp)} \quad \bigl\\{\pmatrix{s\\\ \alpha {h(s)}}, \; 
\pmatrix{s\\\ \beta{h(s)}},\, \pmatrix{t\\\ \alpha {h(t)}},\;
\pmatrix{t\\\ \beta{h(t)}}\bigr\\} \subseteq \langle K \rangle$

Then $y = h (r) = h(s\vee t) = h (s)\vee h(t)$.

∴ $\qquad h(\alpha {h(s)} \vee \alpha {h(t)})= h\alpha h(s) \vee h\alpha h(t)=
h(s) \vee h(t) = y.$

---

Similarly

$\qquad h(\beta{h(s)} \vee \beta {h(t)})= h(s) \vee h(t) = y$

so

$\qquad \beta y \leqslant \beta h(s) \vee \beta h(t) \leqslant \alpha {h(s)} \vee \alpha {h(t)} \leqslant \alpha y.$
<!-- 
Also $r \leqslant \alpha y$, so $r = \alpha y \wedge (s\vee t)$.   -->

Therefore

<!-- \pmatrix{\alpha y \wedge (s\vee t) \\\ \beta y} -->
$\begin{pmatrix}r \\\ \beta y \end{pmatrix} = 
\pmatrix{\alpha y \wedge (s\vee t)\\\ \beta y \wedge (\beta {h(s)} \vee \beta {h(t)})}$

$\qquad\quad = \pmatrix{\alpha y\\\ \beta y} \wedge 
\left[\pmatrix{s\\\ \beta {h(s)}} \vee \pmatrix{t\\\ \beta {h(t)}}\right]\in \langle K \rangle.$

---

Similarly $\pmatrix{r\\\ \alpha y} \in \langle K \rangle$.

Indeed 

$\qquad \beta y \leqslant r \; \Longrightarrow \; r = \beta y \vee s\vee t$ 

and

$\qquad \beta {h(s)} \vee \beta {h(t)} \leqslant \alpha y \; \Longrightarrow \; \alpha y = \alpha y \vee \beta {h(s)} \vee \beta {h(t)}$

Therefore

$\qquad \pmatrix{r \\\ \alpha y}= 
\pmatrix{\beta y \vee s\vee t \\\ \alpha y \vee \beta {h(s)} \vee \beta {h(t)}}= 
\pmatrix{\beta y\\\ \alpha y} \vee 
\pmatrix{s \\\ \beta {h(s)}}\vee 
\pmatrix{t \\\ \beta {h(t)}}$

---

**Case 2.** $r = s \wedge t$, where

<!-- $\pmatrix{s\\\ \alpha {h(s)}}$, $\pmatrix{s\\\ \beta{h(s)}}$, $\pmatrix{t\\\ \alpha {h(t)}}$, $\pmatrix{t\\\ \beta{h(t)}}$ belong to $\langle K \rangle$.  -->
$\quad \bigl\\{\pmatrix{s\\\ \alpha {h(s)}}, \; \pmatrix{s\\\ \beta{h(s)}}, \; \pmatrix{t\\\ \alpha {h(t)}}, \; \pmatrix{t\\\ \beta{h(t)}}\bigr\\}\, \subseteq \, \langle K \rangle.$

Then $y = h(r) = h(s\wedge t)$,

∴ $\quad h(\beta {h(s)} \wedge\beta {h(t)}) = y = h(\alpha {h(s)} \wedge\alpha {h(t)})$

<!-- and $\beta y \leqslant r \leqslant \alpha y$ so  -->

∴ $\quad \beta y \leqslant \beta h(s) \wedge \beta h(t) \leqslant \alpha {h(s)} \wedge \alpha {h(t)} \leqslant \alpha y.$

<!-- 
$$r = \alpha y \wedge s\wedge t \; \text{ and } \;
r = \beta y \vee (s\wedge t).$$  -->

Therefore,

$\pmatrix{r \\\ \alpha a} = 
\pmatrix{\beta y \vee (s\wedge t) \\\ \alpha y \vee (\alpha {h(s)} \wedge \alpha {h(t)})} = 
\pmatrix{\beta y\\\ \alpha y} \vee
\left[\pmatrix{s \\\ \alpha {h(s)}} \wedge \pmatrix{t \\\ \alpha {h(t)}}\right] \in \langle K \rangle$

<!-- Note: We could have used $\beta$'s instead:
$$\left(\begin{array}{c} r \\ \alpha y\end{array}\right) = 
\left(\begin{array}{c} \beta y \vee (s\wedge t) \\ \alpha y \vee (\beta {h(s)} \wedge \beta {h(t)}) \end{array}\right) = 
\left(\begin{array}{c} \beta y\\ \alpha y\end{array}\right) \vee
\left[\left(\begin{array}{c}s \\ \beta {h(s)}\end{array}\right) \wedge \left(\begin{array}{c}t \\ \beta {h(t)} \end{array}\right)\right].$$

Note: Similarly,
$$\left(\begin{array}{c} r \\ \beta y\end{array}\right) = 
\left(\begin{array}{c} \alpha y \wedge s\wedge t \\ \beta y \wedge \alpha {h(s)} \wedge \alpha {h(t)} \end{array}\right) = 
\left(\begin{array}{c} \alpha y\\ \beta y\end{array}\right) \wedge 
\left(\begin{array}{c}s \\ \alpha {h(s)}\end{array}\right) \wedge \left(\begin{array}{c}t \\ \alpha {h(t)} \end{array}\right).$$

Note:
Again, we could have used $\beta$'s instead:
$$\left(\begin{array}{c} r \\ \beta y\end{array}\right) = 
\left(\begin{array}{c} \alpha y \wedge s\wedge t \\ \beta y \wedge \beta {h(s)} \wedge \beta {h(t)} \end{array}\right) = 
\left(\begin{array}{c} \alpha y\\ \beta y\end{array}\right) \wedge 
\left(\begin{array}{c}s \\ \beta {h(s)}\end{array}\right) \wedge \left(\begin{array}{c}t \\ \beta {h(t)} \end{array}\right).$$

Note: In each case, we end up with an expression involving terms from $\langle K \rangle$, and this proves that $(r, \alpha y)$ and $(r, \beta y)$ belong to $\langle K \rangle$. -->

---
---

#### The harder direction

($\Leftarrow$) Suppose $h$ is not lower bounded. 

**To Show:** $\ker h$ is not finitely generated.

---

### Detour into real lattice theory

Let **FJN** :=
```bibtex
@book {MR1319815,
    AUTHOR = {Freese, Ralph and Je{\v z}ek, Jaroslav and Nation, J.~B.},
     TITLE = {Free lattices},
    SERIES = {Mathematical Surveys and Monographs},
    VOLUME = {42},
 PUBLISHER = {American Mathematical Society, Providence, RI},
      YEAR = {1995},
     PAGES = {viii+293},
      ISBN = {0-8218-0389-1},
   MRCLASS = {06B25 (06-02 06-04 06B20 68Q25)},
  MRNUMBER = {1319815 (96c:06013)},
MRREVIEWER = {T. S. Blyth},
       DOI = {10.1090/surv/042},
       URL = {http://dx.doi.org/10.1090/surv/042},
}
```

---

#### Closure operators $(^\wedge$_$^\vee)$

**FJN** defines a pair of closure operators on subsets of lattices as follows: 

$$A^\wedge = \\{\bigwedge B : B \text{ is a finite subset of } A\\}.$$


$A^\vee$ is defined dually.

+ If $\mathbf L = \langle L, \vee, \wedge\rangle$ is a lattice 
  generated by a finite set $X$, then $L$ is a union of the chain $H_0\subseteq H_1 \subseteq \cdots$, defined inductively as: 
  + $H_0 = X^\wedge$ 
  + $H_{k+1} = (H_k)^{\vee \wedge}$ $\quad(k\geqslant 0)$ 

+ Each $H_n = (X^{\wedge})^{(\vee\wedge)^n}$ is a finite meet-closed subset of $L$, and $\bigcup H_n = L$.

Note: If $\mathbf L$ has a top, $1_{\mathbf L}$, let $\bigwedge \emptyset = 1_{\mathbf L} \in A^\wedge$. Otherwise, $\bigwedge \emptyset$ is undefined. 

---

Let $h \colon \mathbf L \to \mathbf L'$ be a lattice epimorphism.

For each $y \in L'$ and $k< \omega$, define
$$\beta_k(y) = \bigwedge \\{w \in H_k : h(w) \geqslant a\\}.$$

+ On p. 30 of F-J-N, "...[$h$ is lower bounded] iff

  for each $a \leqslant h(1_{\mathbf L})$ there exists $N\in \omega$ such that $\beta_n(a) = \beta_N(a)$ for all $n\geqslant N$..."

+ Equivalently, $h$ is *not* lower bounded iff 

  † $\quad (\,\exists a \in L\,) \; (\,\forall N<\omega\,) \; (\,\exists n> N\,) \;\; \beta_n(a) \neq \beta_N(a)$.

  iff

  ‡ 
  $\quad (\exists a\in L) (\forall n>0) \beta_n(a) >\beta_{n+1}(a)$.


---

#### (alleged) proof of harder direction

($\Leftarrow$) Suppose $h$ is not lower bounded. 

**To Show:** $\ker h$ is not finitely generated.

---
Then $\exists y_0\in L$ such that 

$\beta_0y_0 > \beta_1y_0 > > \beta_2y_0$ 

is an infinite descending chain. 

Let $K$ be a finite subset of $\ker h$, say, $K = \{(p_1, q_1), \dots, (p_{m}, q_{m})\} \subseteq \ker h$.
We prove $\langle K \rangle \neq \ker h$. (Since $K$ is an arbitrary finite subset of $\ker h$, this will prove $\ker h$ is not finitely generated.)

Let $x_0\in X$ be a generator of $\mathbf F$ that belongs to the class $h^{-1}\{y_0\}$ (so, $h(x_0) = y_0$).

**Claim 1:** There exists $N<\omega$ such that for all $(p_i, q_i)$ in $K$, if $p_i \geqslant x_0$, then $q_i \geqslant \beta_N (y_0)$.

*Proof:* Fix $i$ and $(p_i, q_i) \in K$ (so, $h(p_i) = h(q_i)$). Define $N_i$ as follows:

+ *Case 0:* If $p_i \ngeqslant x_0$, let $N_i = 0$.  

+ *Case 1:* If $p_i\geqslant x_0$, then $x_0 = x_0\wedge p_i$, so $y_0 = h(x_0) = h(x_0) \wedge h(p_i) \leqslant h(p_i)$, so $y_0\leqslant h(q_i)$. Also, $h(x_0 \wedge q_i) = h(x_0) \wedge h(q_i) = y_0$, so $x_0\wedge q_i \in h^{-1}\{y_0\}$. Therefore (since $\{\beta_i(y_0)\}$ is an infinite descending chain in $h^{-1}\{y_0\}$) there exists $n_i>0$ such that $x_0 \wedge q_i \geqslant\beta_{n}(y_0)$. Let $N_i = n_i$ in this case (so $q_i \geqslant \beta_{N_i}(y_0)$).

Since $K$ is finite, we can find such $N_i$ for each $(p_i,q_i) \in K$. Let $N = \max\{N_i : 1 \leqslant i \leqslant m\}$.
Then for all $1\leqslant i \leqslant m$ the following implication holds:

$(\star)  \qquad \qquad \qquad \qquad \qquad p_i \geqslant x_0 \quad \Longrightarrow \quad q_i \geqslant \beta_N(y_0).$

-----
